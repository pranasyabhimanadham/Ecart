<h1 class="form-header">Register</h1>

<form class="form" [formGroup]="registerForm" (ngSubmit)="handleSubmitForm()">
  <!--** Name **-->
  <div class="mb-6">
    <label for="name-input" class="label">Name</label>
    <input type="text" id="name-input" class="input" formControlName="name" />
    @if (name?.invalid && name?.touched) {
      <div id="name-input" class="mt-4 text-red-600">
        @if (name?.hasError("required")) {
          <p>Required</p>
        }
        @if (name?.hasError("minlength")) {
          <p>Min length is 3</p>
        }
      </div>
    }
  </div>

  <!--** Email **-->
  <div class="mb-6">
    <label for="email-input" class="label">Email Address</label>
    <input
      type="email"
      id="email-input"
      class="input"
      formControlName="email"
    />
    @if (email?.invalid && email?.touched) {
      <div id="email-input" class="mt-4 text-red-600">
        @if (email?.hasError("required")) {
          <p>Required</p>
        }
        @if (email?.hasError("email")) {
          <p>Please enter a valid email address</p>
        }
      </div>
    }
  </div>

  <!--** Username **-->
  <div class="mb-6">
    <label for="username-input" class="label">Username</label>
    <input
      type="text"
      id="username-input"
      class="input"
      formControlName="username"
    />
    @if (username?.invalid && username?.touched) {
      <div id="username-input" class="mt-4 text-red-600">
        @if (username?.hasError("required")) {
          <p>Required</p>
        }
        @if (username?.hasError("minlength")) {
          <p>Username must be more than 3 characters</p>
        }
        @if (username?.hasError("pattern")) {
          <p>Username should not contain whitespace</p>
        }
      </div>
    }
  </div>

  <!--** Password **-->

  <div class="mb-6">
    <label for="password-input" class="label">Password</label>
    <input
      type="password"
      id="password-input"
      class="input"
      formControlName="password"
    />
    @if (password?.invalid && password?.touched) {
      <div id="password-input" class="mt-4 text-red-600">
        @if (password?.hasError("required")) {
          <p>Required</p>
        }
        @if (password?.hasError("pattern")) {
          <p class="text-sm">
            A valid password must be 8 characters and has at least one uppercase
            letter, one lowercase letter, 1 digit, and one special character.
          </p>
        }
      </div>
    }
  </div>

  <!--** Password Confirmation **-->

  <div class="mb-6">
    <label for="conf-pass-input" class="label">Confirm password</label>
    <input
      type="password"
      id="conf-pass-input"
      class="input"
      formControlName="confirmPassword"
    />
    @if (confirmPassword?.invalid && confirmPassword?.touched) {
      <div id="confirmPassword-input" class="mt-4 text-red-600">
        @if (confirmPassword?.hasError("required")) {
          <p>Required</p>
        }
        @if (confirmPassword?.hasError("passwordsDontMatch")) {
          <p>Password does not match</p>
        }
      </div>
    }
  </div>

  <!--** Submit Button **-->

  <div class="flex justify-end">
    <button type="submit" class="btn-submit">Register</button>
  </div>
</form>
